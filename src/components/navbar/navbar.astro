---
import "./_navbar.css";
---

<header class="navbar">
  <div class="navbar-container">
    <div class="logo" id="fronesis-logo">
      <a href="#" aria-label="Ir al inicio">FRÓNESIS</a>
    </div>

    <button class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="nav-links" id="nav-links">
      <a href="#header_id">INICIO</a>
      <a href="#servicios">SERVICIOS</a>
      <a href="#nosotros">NOSOTROS</a>
      <a href="#contacto">CONTACTO</a>
    </nav>

    <button class="theme-toggle" id="theme-toggle">
      <img src="/sun.svg" alt="Tema claro" id="theme-icon" />
    </button>
  </div>

  <script>
    const hamburger = document.getElementById("hamburger");
    const navLinks = document.getElementById("nav-links");
    const themeToggle = document.getElementById("theme-toggle");
    const themeIcon = document.getElementById("theme-icon") as HTMLImageElement;
    const root = document.documentElement;
    let isDark = false;

    // Abrir/cerrar menú
    if (hamburger && navLinks) {
      hamburger.addEventListener("click", () => {
        hamburger.classList.toggle("active");
        navLinks.classList.toggle("open");
      });
    }

    // Cerrar menú al hacer clic en una opción
    if (navLinks && hamburger) {
      const navItems = navLinks.querySelectorAll("a, button");
      navItems.forEach(item => {
        item.addEventListener("click", () => {
          if (navLinks.classList.contains("open")) {
            navLinks.classList.remove("open");
            hamburger.classList.remove("active");
          }
        });
      });
    }

    // Cambiar tema e ícono
    if (themeToggle && themeIcon) {
      themeToggle.addEventListener("click", () => {
        isDark = !isDark;
        root.setAttribute("data-theme", isDark ? "dark" : "light");
        themeIcon.src = isDark ? "/moon.svg" : "/sun.svg";
        themeIcon.alt = isDark ? "Tema oscuro" : "Tema claro";
      });
    }
  </script>
</header>
